<div class="container">
    <div class="email-wrap bookmark-wrap">
        <div class="grid grid-cols-12 main-bookmark tabs gap-[24px]">
            <div class="col-span-3 xxl:col-span-12 box-col-6">
                <app-sidebar (currentTab)="handleCurrentTab($event)" (newBookmark)="handleAddBookmark($event)"></app-sidebar>
            </div>
            <div class="col-span-9 xxl:col-span-12 box-col-12">
                <div class="email-right-aside bookmark-tabcontent">
                    <div class="card email-body radius-left">
                        <div class="ps-0">
                            <div class="tab-content">
                                <div class="tab-pane fade active show">
                                    <div class="card mb-0">
                                        <div class="card-header card-no-border pb-0 flex">
                                            <h6 class="mb-0">{{ activeTab ? activeTab.title : '' }}</h6>
                                            <ul>
                                              <li>
                                                <a class="grid-bookmark-view" href="javascript:void(0)" (click)="toggleListView(false)">
                                                    <app-feather-icon [icon]="'grid'"></app-feather-icon>
                                                </a>
                                            </li>
                                              <li>
                                                <a class="list-layout-view" href="javascript:void(0)" (click)="toggleListView(true)">
                                                    <app-feather-icon [icon]="'list'"></app-feather-icon>
                                                </a>
                                            </li>
                                            </ul>
                                        </div>
                                        <div class="card-body pb-0">
                                            <div class="details-bookmark text-center" [class.list-bookmark]="isListView">
                                                <div class="grid grid-cols-12 gap-x-4" id="bookmarkData">
                                                    @for(bookmark of getFilteredBookmark(); track bookmark) {
                                                        <div class="col-span-3 xxl:col-span-4 md:col-span-6 sm:col-span-12 col-ed-4">
                                                            <div class="card card-with-border bookmark-card o-hidden">
                                                              <div class="details-website">
                                                                <img class="max-w-full h-auto" [src]="bookmark.image" [alt]="bookmark.title">
                                                                <div class="favourite-icon favourite_0" [class.favourite]="bookmark.is_favorite" (click)="favoriteBookmark(bookmark)">
                                                                    <a href="javascript:void(0)">
                                                                        <i class="fa-solid fa-star"></i>
                                                                    </a>
                                                                </div>
                                                                <div class="desciption-data">
                                                                  <div class="title-bookmark">
                                                                    <h6 class="title_0">{{ bookmark.title }}</h6>
                                                                    <p class="weburl_0">{{ bookmark.url }}</p>
                                                                    <div class="hover-block">
                                                                      <ul>
                                                                        <li>
                                                                            <a href="javascript:void(0)" (click)="editBookmark(bookmark)">
                                                                                <app-feather-icon [icon]="'edit-2'"></app-feather-icon>
                                                                            </a>
                                                                        </li>
                                                                        <li>
                                                                            <a href="javascript:void(0)">
                                                                                <app-feather-icon [icon]="'link'"></app-feather-icon>
                                                                            </a>
                                                                        </li>
                                                                        <li>
                                                                            <a href="javascript:void(0)">
                                                                                <app-feather-icon [icon]="'share-2'"></app-feather-icon>
                                                                            </a>
                                                                        </li>
                                                                        <li>
                                                                            <a href="javascript:void(0)" (click)="deleteBookmark(bookmark)">
                                                                                <app-feather-icon [icon]="'trash-2'"></app-feather-icon>
                                                                            </a>
                                                                        </li>
                                                                        <li class="pull-right text-end">
                                                                            <a href="javascript:void(0)">
                                                                                <app-feather-icon [icon]="'tag'"></app-feather-icon>
                                                                            </a>
                                                                        </li>
                                                                      </ul>
                                                                    </div>
                                                                    <div class="content-general">
                                                                      <p class="desc_0">{{ bookmark.description }}</p>
                                                                      @if(bookmark.collection) {
                                                                        <span class="collection_0">{{ bookmark.collection }}</span>
                                                                      }
                                                                    </div>
                                                                  </div>
                                                                </div>
                                                              </div>
                                                            </div>
                                                        </div>
                                                    } @empty {
                                                        <div class="col-span-12">
                                                            <div class="details-bookmark text-center"><span>No Bookmarks Found.</span></div>
                                                        </div>
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                @if(modalOpen) {
                                    <app-bookmark-modal [bookmarkDetails]="selectedBookmark" (modalOpen)="handleOpenModal($event)"></app-bookmark-modal>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

