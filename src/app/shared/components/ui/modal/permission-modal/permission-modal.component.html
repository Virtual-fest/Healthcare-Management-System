<div class="modal  fade show modal-backdrop">
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content category-popup" (clickOutside)="closeModal()">
      <div class="modal-header">
        <h5 class="modal-title" id="modaldashboard">Create Role</h5>
        <button class="btn-close" type="button" (click)="closeModal()"></button>
      </div>
      <div class="modal-body custom-input">
        <div class="grid grid-cols-12">
          <div class="col-span-12">
            <div class="grid grid-cols-12 mb-4 gap-2">
              <div class="col-span-2 md:col-span-12">
                <label class="form-label mb-0" for="validationName">Name <span class="txt-danger">*</span></label>
              </div>
              <div class="col-span-10 md:col-span-12">
                <input class="form-control" id="validationName" type="text" placeholder="Enter name">
              </div>
            </div>
            <div class="grid grid-cols-12 gap-2">
              <div class="col-span-12"> 
                <label class="form-label mb-0" for="validationName">Permissions <span class="txt-danger">*</span></label>
              </div>
              <div class="col-span-12"> 
                <div class="grid grid-cols-12 permission-form gap-2">
                    @for(module of permissions; track module) {
                      <div class="col-span-12">
                        <ul>
                          <li>{{ module.name }}</li>
                          <li> 
                            <div class="form-check">
                              <input class="form-check-input check-all" id="all" type="checkbox" [checked]="module.is_checked" (change)="checkUncheckAll($event, module)">
                              <label class="form-check-label" for="all">All</label>
                            </div>
                          </li>
                          @for(permission of module.module_permission; track permission) {
                            <li> 
                                <div class="form-check">
                                  <input class="form-check-input" [id]="permission.permission_id" type="checkbox" [checked]="selectedPermission.includes(+permission.permission_id) || permission.is_checked ? true : false" [value]="permission.permission_id" (change)="onPermissionChecked($event, module)">
                                  <label class="form-check-label" [for]="permission.permission_id">{{ permission.name }}</label>
                                </div>
                            </li>
                          }
                        </ul>
                      </div>
                    }
                  <div class="col-span-12 flex justify-end mt-3">
                    <button class="btn btn-primary text-white" type="submit" (click)="closeModal()">Save</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>